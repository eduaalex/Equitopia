<odoo>
  <data>
    <record model="ir.ui.view" id="maintenance_view_team_corrected">
      <field name="model">maintenance.team</field>
      <field name="inherit_id" ref="maintenance.maintenance_team_view_tree" />
      <field name="arch" type="xml">
        <xpath expr="//field[@name='company_id']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <field name="member_ids" position="after">
          <field name="partner_id" />
        </field>
      </field>
    </record>

    <record model="ir.ui.view" id="account_asset_custom_maintenance1">
      <field name="model">account.asset.asset</field>
      <field name="inherit_id" ref="om_account_asset.view_account_asset_asset_form" />
      <field name="arch" type="xml">
        <!-- Campos ocultos -->
        <xpath expr="//page[@name='occupancy']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//field[@name='ground_rent']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//field[@name='rent_type_id']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>


        <!-- Boton de nuevo contrato -->
        <xpath expr="//button[@name='open_url']" position="after">
          <button name="create_tenancy" string="Nuevo contrato" type="object" icon="fa-edit" class="oe_stat_button" />
        </xpath>

        <!-- Mantenimientos por propiedad -->

        <xpath expr="//page[@name='sub_properties']" position="before">
          <page name="maintenance_by_property_page" string="Mantenimiento">
            <field name="maintenance_per_property">
              <tree string="Mantenimientos de la propiedad">
                <field name="name" />
                <field name="team_id" />
                <field name="frequency" />
                <field name="cost" />
                <field name="to_charge" />
              </tree>
              <form string="Mantenimientos de la propiedad">
                <group>
                  <field name="name" />
                  <field name="team_id" />
                  <field name="frequency" />
                  <field name="cost" />
                  <field name="to_charge" />
                </group>
              </form>
            </field>
          </page>
        </xpath>

        <xpath expr="//field[@name='currency_id']" position="after">
          <field name="commission_value" />
          <field name="commission_percentage" widget='percentage'/>
        </xpath>
      </field>
    </record>

    <record model="ir.ui.view" id="account_analytic_saul_maintenance1">
      <field name="model">account.analytic.account</field>
      <field name="inherit_id" ref="property_management.property_analytic_view_form" />
      <field name="arch" type="xml">

        <!-- Mantenimientos por propiedad -->
        <field name="rent_type_id" position="after">
          <field name="frequency" />
          <field name="mirror_contract_id" readonly="1" context="{'form_view_ref': 'property_landlord_management.landlord_analytic_view_form_id'}" string="Contrato del propietario" attrs="{'invisible': [('state', '=', 'open')]}"/>
        </field>

        <xpath expr="//page[@name='history']" position="before">
          <page name="tenant_maintenance_page" string="Mantenimientos">
            <field name="maintenance_per_property" readonly="0">
              <tree string="Mantenimientos">
                <field name="table_name" string="Nombre" />
                <field name="table_team" string="Equipo" />
                <field name="maintenance_request" context="{'frequency': 'frequency'}" string="Frecuencia" />
                <field name="table_cost" string="Costo"/>
                <field name="charge" />
                <field name="category" />
              </tree>
            </field>
          </page>
        </xpath>

        <!-- Propiedades disponibles -->
        <xpath expr="//field[@name='property_id']" position="attributes">
          <attribute name="domain">[]</attribute>
        </xpath>
        <xpath expr="//field[@name='rent_type_id']" position="attributes">
          <attribute name="required">0</attribute>
        </xpath>

        <!-- Contrato espejo -->
        <!--<xpath 
        <xpath expr="//button[@name='button_maintenance']" position="after">
          <button name="mirror_contract" string="Contrato espejo" type="object"/>
        </xpath>
        -->

        <!-- Campos ocultos -->
        <xpath expr="//field[@name='rent']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//field[@name='date']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//field[@name='date_start']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//field[@name='rent_type_id']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>


        <!-- Menus -->
        <!--<menuitem
          id="menu_property_admin"
          name="Administracion"
          parent="menu_property_main"
        sequence="9" /> -->
      </field>
    </record>

    <record model="ir.ui.view" id="account_anlytic_landlord_custom_maintenance">
      <field name="model">account.analytic.account</field>
      <field name="inherit_id" ref="property_landlord_management.landlord_analytic_view_form_id" />
      <field name="arch" type="xml">

        <xpath expr="//field[@name='rent_type_id']" position="attributes">
          <attribute name="required">0</attribute>
        </xpath>

        <!-- Mantenimientos por propiedad -->
        <field name="rent_type_id" position="after">
          <field name="frequency" />
        </field>
        <field name="deposit_scheme_type" position="after">
          <field name="tenant_tenancy_id" readonly="1" string="Contrato del inquilino" context="{'form_view_ref': 'property_management.property_analytic_view_form'}"/>
        </field>

        <xpath expr="//page[@name='history']" position="before">
          <page name="tenant_maintenance_page" string="Mantenimientos">
            <field name="maintenance_per_property" readonly="0">
              <tree string="Mantenimientos">
                <field name="table_name" />
                <field name="charge" />
              </tree>
            </field>
          </page>
        </xpath>

      </field>
    </record>

  </data>
</odoo>
